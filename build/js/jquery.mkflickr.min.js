/*! jquery.mkflickr 2013-06-09 */
!function(a){function b(b,e){this.element=b,this.settings=a.extend({},d,e),this._defaults=d,this._name=c,this.init()}var c="mkflickr",d={apiKey:"",userId:"",containerCssClass:"gallery",itemCount:20,baseUrl:"http://api.flickr.com/services/rest/?method=",tag:"span"};b.prototype={init:function(){return a(this.element).html('<div class="'+this.settings.containerCssClass+'"></div>'),this.doAjax(),this},buildGallery:function(b){a("body").append("we have data and are building the gallery"+b.photos.photo.length);var c=b.photos.photo,d=this.settings.tag,e=this;a.map(c,function(b){var c="http://farm"+b.farm+".staticflickr.com/"+b.server+"/"+b.id+"_"+b.secret+"_t.jpg";"http://farm"+b.farm+".staticflickr.com/"+b.server+"/"+b.id+"_"+b.secret+"_z.jpg",a(e.element).find("div."+e.settings.containerCssClass).append("<"+d+'><img src="'+c+'"/></'+d+">")})},doAjax:function(){var b=this;a.ajax({url:this.buildFlickrUrl(),dataType:"jsonp",success:function(a){b.buildGallery(a)}})},buildFlickrUrl:function(){var a=this.settings,b=a.baseUrl+"flickr.photos.search&api_key="+a.apiKey+"&user_id="+a.userId+"&per_page="+a.itemCount+"&format=json&jsoncallback=?";return b}},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document);